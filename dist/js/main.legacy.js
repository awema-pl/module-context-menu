/**
 * Bundle of AWEMA context-menu transpiled and polyfilled
 * Generated: 2019-07-04 10:41:28
 * Version: 1.1.2
 */

!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),i=(n.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),o=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},r=function(t){try{return!!t()}catch(t){return!0}},s=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=e.document,u=i(c)&&i(c.createElement),a=function(t){return u?c.createElement(t):{}},l=!s&&!r(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),f=Object.defineProperty,p={f:s?Object.defineProperty:function(t,e,n){if(o(t),e=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(e,!0),o(n),l)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h=s?function(t,e,n){return p.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},v={}.hasOwnProperty,m=function(t,e){return v.call(t,e)},g=0,_=Math.random(),y=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++g+_).toString(36))},b=t(function(t){var i=y("src"),o=Function.toString,r=(""+o).split("toString");n.inspectSource=function(t){return o.call(t)},(t.exports=function(t,n,o,s){var c="function"==typeof o;c&&(m(o,"name")||h(o,"name",n)),t[n]!==o&&(c&&(m(o,i)||h(o,i,t[n]?""+t[n]:r.join(String(n)))),t===e?t[n]=o:s?t[n]?t[n]=o:h(t,n,o):(delete t[n],h(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||o.call(this)})}),w=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}},O=function(t,i,o){var r,s,c,u,a=t&O.F,l=t&O.G,f=t&O.S,p=t&O.P,d=t&O.B,v=l?e:f?e[i]||(e[i]={}):(e[i]||{}).prototype,m=l?n:n[i]||(n[i]={}),g=m.prototype||(m.prototype={});for(r in l&&(o=i),o)c=((s=!a&&v&&void 0!==v[r])?v:o)[r],u=d&&s?w(c,e):p&&"function"==typeof c?w(Function.call,c):c,v&&b(v,r,c,t&O.U),m[r]!=c&&h(m,r,u),p&&g[r]!=c&&(g[r]=c)};e.core=n,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var S=O,k={}.toString,C=function(t){return k.call(t).slice(8,-1)},E=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==C(t)?t.split(""):Object(t)},x=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},R=function(t){return E(x(t))},j=Math.ceil,$=Math.floor,P=function(t){return isNaN(t=+t)?0:(t>0?$:j)(t)},T=Math.min,L=Math.max,M=Math.min,A=function(t){return function(e,n,i){var o,r,s=R(e),c=(o=s.length)>0?T(P(o),9007199254740991):0,u=function(t,e){return(t=P(t))<0?L(t+e,0):M(t,e)}(i,c);if(t&&n!=n){for(;c>u;)if((r=s[u++])!=r)return!0}else for(;c>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}},F=t(function(t){var i=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),B=t(function(t){var n=F("wks"),i=e.Symbol,o="function"==typeof i;(t.exports=function(t){return n[t]||(n[t]=o&&i[t]||(o?i:y)("Symbol."+t))}).store=n}),H=B("unscopables"),V=Array.prototype;null==V[H]&&h(V,H,{});var q=function(t){V[H][t]=!0},z=A(!0);S(S.P,"Array",{includes:function(t){return z(this,t,arguments.length>1?arguments[1]:void 0)}}),q("includes");var I=B("match"),N=function(t,e,n){if(i(o=e)&&(void 0!==(r=o[I])?r:"RegExp"==C(o)))throw TypeError("String#"+n+" doesn't accept regex!");var o,r;return String(x(t))},D=B("match");S(S.P+S.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[D]=!1,!"/./"[t](e)}catch(t){}}return!0}("includes"),"String",{includes:function(t){return!!~N(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var G=function(t,e){return{value:e,done:!!t}},Q={},W=F("keys"),U=function(t){return W[t]||(W[t]=y(t))},X=A(!1),Y=U("IE_PROTO"),J="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),K=Object.keys||function(t){return function(t,e){var n,i=R(t),o=0,r=[];for(n in i)n!=Y&&m(i,n)&&r.push(n);for(;e.length>o;)m(i,n=e[o++])&&(~X(r,n)||r.push(n));return r}(t,J)},Z=s?Object.defineProperties:function(t,e){o(t);for(var n,i=K(e),r=i.length,s=0;r>s;)p.f(t,n=i[s++],e[n]);return t},tt=e.document,et=tt&&tt.documentElement,nt=U("IE_PROTO"),it=function(){},ot=function(){var t,e=a("iframe"),n=J.length;for(e.style.display="none",et.appendChild(e),e.src="javascript:",(t=e.modalWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ot=t.F;n--;)delete ot.prototype[J[n]];return ot()},rt=Object.create||function(t,e){var n;return null!==t?(it.prototype=o(t),n=new it,it.prototype=null,n[nt]=t):n=ot(),void 0===e?n:Z(n,e)},st=p.f,ct=B("toStringTag"),ut=function(t,e,n){t&&!m(t=n?t:t.prototype,ct)&&st(t,ct,{configurable:!0,value:e})},at={};h(at,B("iterator"),function(){return this});var lt=function(t,e,n){t.prototype=rt(at,{next:d(1,n)}),ut(t,e+" Iterator")},ft=function(t){return Object(x(t))},pt=U("IE_PROTO"),dt=Object.prototype,ht=Object.getPrototypeOf||function(t){return t=ft(t),m(t,pt)?t[pt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?dt:null},vt=B("iterator"),mt=!([].keys&&"next"in[].keys()),gt=function(){return this},_t=function(t,e,n,i,o,r,s){lt(n,e,i);var c,u,a,l=function(t){if(!mt&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",p="values"==o,d=!1,v=t.prototype,m=v[vt]||v["@@iterator"]||o&&v[o],g=m||l(o),_=o?p?l("entries"):g:void 0,y="Array"==e&&v.entries||m;if(y&&(a=ht(y.call(new t)))!==Object.prototype&&a.next&&(ut(a,f,!0),"function"!=typeof a[vt]&&h(a,vt,gt)),p&&m&&"values"!==m.name&&(d=!0,g=function(){return m.call(this)}),(mt||d||!v[vt])&&h(v,vt,g),Q[e]=g,Q[f]=gt,o)if(c={values:p?g:l("values"),keys:r?g:l("keys"),entries:_},s)for(u in c)u in v||b(v,u,c[u]);else S(S.P+S.F*(mt||d),e,c);return c}(Array,"Array",function(t,e){this._t=R(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,G(1)):G(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Q.Arguments=Q.Array,q("keys"),q("values"),q("entries");for(var yt=B("iterator"),bt=B("toStringTag"),wt=Q.Array,Ot={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},St=K(Ot),kt=0;kt<St.length;kt++){var Ct,Et=St[kt],xt=Ot[Et],Rt=e[Et],jt=Rt&&Rt.prototype;if(jt&&(jt[yt]||h(jt,yt,wt),jt[bt]||h(jt,bt,Et),Q[Et]=wt,xt))for(Ct in _t)jt[Ct]||b(jt,Ct,_t[Ct],!0)}var $t="ontouchstart"in window||navigator.msMaxTouchPoints>0,Pt=0,Tt={name:"context-menu",props:{buttonClass:String,right:{type:Boolean,default:!1},top:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},boundary:{type:String,default:"body"},relocate:{type:Boolean,default:!0}},data:function(){return{menuId:"cm-"+Pt++,isOpened:!1,clipRect:{bounds:null,toggler:{top:0,bottom:0},dropdown:{width:0,height:0}},canOpen:{left:!0,top:!0,right:!0,bottom:!0},debounce:{scroll:null,resize:null}}},computed:{boundaryElement:function(){if(this._isMounted){var t=this.$el.closest(this.boundary);return t||(t=document.querySelector("body")),t}return null},otsideClickEvents:function(){return $t?["touchstart","click"]:["click"]},positionEvents:function(){return!!this.autoPosition&&[{event:"scroll",handler:"scrollHandler"},{event:"resize",handler:"resizeHandler"}]},position:{get:function(){return this.autoPosition?{right:this.right&&this.canOpen.right||this.canOpen.right&&!this.canOpen.left,top:this.top&&this.canOpen.top||this.canOpen.top&&!this.canOpen.bottom}:{right:this.right,top:this.top}},set:function(t){for(var e in t)this.$set(this.canOpen,e,t[e])}},positonClasses:function(){return{"is-opened":this.isOpened,"is-right-side":this.position.right,"is-top-side":this.position.top}},positionStyle:function(){if("undefined"!=typeof window&&this.relocate){var t=this.clipRect;return{position:"absolute",top:(this.position.top?t.toggler.top-t.dropdown.height:t.toggler.bottom)+window.pageYOffset+"px",left:(this.position.right?t.toggler.right-t.dropdown.width:t.toggler.left)+"px"}}return null}},watch:{isOpened:function(t){var e=this;t?(this.otsideClickEvents.forEach(function(t){window.addEventListener(t,e.clikcOutsideHandler,!0)}),this.positionEvents&&this.positionEvents.forEach(function(t){window.addEventListener(t.event,e[t.handler],{passive:!0})})):(this.otsideClickEvents.forEach(function(t){window.removeEventListener(t,e.clikcOutsideHandler,!0)}),this.positionEvents&&this.positionEvents.forEach(function(t){window.removeEventListener(t.event,e[t.handler],{passive:!0})}))}},methods:{toggleMenu:function(){this.isOpened=!this.isOpened},openMenu:function(){this.isOpened=!0},closeMenu:function(){this.isOpened=!1},clikcOutsideHandler:function(t){var e=t.target;this.$refs.dropdown.contains(e)||this.$refs.dropdown===e||this.$refs.toggler.contains(e)||this.$refs.toggler===e||this.closeMenu()},menuClickHandler:function(t){(["BUTTON","A"].includes(t.target.tagName)||t.target.closest("button, a"))&&this.closeMenu()},setBoundingRect:function(){this.clipRect.bounds=this.boundaryElement.getBoundingClientRect()},setSelfBounds:function(){this.clipRect.toggler=this.$el.getBoundingClientRect()},setDropdownBounds:function(){this.clipRect.dropdown={width:this.$refs.dropdown.clientWidth,height:this.$refs.dropdown.clientHeight}},prepare:function(){this.relocate&&document.body.appendChild(this.$refs.dropdown),this.setSelfBounds()},cleanup:function(){this.relocate&&this.$el.appendChild(this.$refs.dropdown)},checkPosition:function(){this.setBoundingRect(),this.setSelfBounds(),this.setDropdownBounds(),this.autoPosition&&(this.checkCanOpenHorizontal(),this.checkCanOpenVertical())},checkCanOpenHorizontal:function(){var t=this.clipRect.bounds,e=this.clipRect.toggler,n=this.clipRect.dropdown;this.position={left:t.width+t.left>e.left+n.width,right:e.left-t.left>n.width-e.width}},checkCanOpenVertical:function(){var t=this.clipRect.bounds,e=this.clipRect.toggler,n=this.clipRect.dropdown,i={top:e.top-t.top>n.height,bottom:t.top+t.height-e.top-e.height>n.height},o={top:e.top>n.height,bottom:e.top+e.height+n.height<window.innerHeight};this.position={top:i.top&&o.top,bottom:i.bottom&&o.bottom}},scrollHandler:function(){var t=this;clearTimeout(this.debounce.scroll),this.debounce.scroll=setTimeout(function(){t.isOpened&&(t.setSelfBounds(),t.checkCanOpenHorizontal(),t.checkCanOpenVertical())},300)},resizeHandler:function(){var t=this;clearTimeout(this.debounce.resize),this.debounce.resize=setTimeout(function(){t.isOpened&&t.checkPosition()},300)}}};function Lt(t,e,n,i,o,r,s,c,u,a){"function"==typeof s&&(u=c,c=s,s=!1);const l="function"==typeof n?n.options:n;let f;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),i&&(l._scopeId=i),r?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=f):e&&(f=s?function(){e.call(this,a(this.$root.$options.shadowRoot))}:function(t){e.call(this,c(t))}),f)if(l.functional){const t=l.render;l.render=function(e,n){return f.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,f):[f]}return n}const Mt=Tt;Tt.__file="context-menu.vue";var At=Lt({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["context-menu",t.positonClasses]},[n("button",{ref:"toggler",class:["context-menu__toggler",t.buttonClass,{"context-menu__toggler-default":!t.$slots.toggler}],attrs:{type:"button","aria-haspopup":"true"},on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?t.closeMenu(e):null}}},[t._t("toggler",[n("svg",{attrs:{width:"11",height:"3",viewBox:"0 0 600 168"}},[n("circle",{attrs:{cx:"84",cy:"84",r:"80"}}),t._v(" "),n("circle",{attrs:{cx:"300",cy:"84",r:"80"}}),t._v(" "),n("circle",{attrs:{cx:"516",cy:"84",r:"80"}})])])],2),t._v(" "),n("transition",{attrs:{name:"toggle-context-menu"},on:{beforeEnter:t.prepare,afterLeave:t.cleanup,enter:t.checkPosition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],ref:"dropdown",class:["context-menu__dropdown",t.positonClasses],style:t.positionStyle,attrs:{"aria-expanded":t.isOpened?"true":"false"},on:{click:function(e){return e.stopPropagation(),t.menuClickHandler(e)}}},[t.$slots.default?n("ul",{staticClass:"context-menu__list"},[t._t("default")],2):t._e()])])],1)},staticRenderFns:[]},void 0,Mt,void 0,!1,void 0,void 0,void 0),Ft={inheritAttrs:!1,props:{itemClass:String}},Bt={name:"cm-button",mixins:[Ft]};const Ht=Bt;Bt.__file="cm-button.vue";var Vt=Lt({render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"cm-item"},[e("button",this._g(this._b({class:["cm-item__button",this.itemClass]},"button",this.$attrs,!1),this.$listeners),[this._t("default")],2)])},staticRenderFns:[]},void 0,Ht,void 0,!1,void 0,void 0,void 0),qt={name:"cm-link",mixins:[Ft],props:{href:{type:String,required:!0}}};const zt=qt;qt.__file="cm-link.vue";var It=Lt({render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"cm-item"},[e("a",this._g(this._b({class:["cm-item__link",this.itemClass],attrs:{href:this.href}},"a",this.$attrs,!1),this.$listeners),[this._t("default")],2)])},staticRenderFns:[]},void 0,zt,void 0,!1,void 0,void 0,void 0),Nt={name:"cm-separator",functional:!0};const Dt=Nt;Nt.__file="cm-separator.vue";var Gt=Lt({render:function(t,e){return(0,e._c)("li",{staticClass:"cm-item is-separator",attrs:{role:"separator"}})},staticRenderFns:[]},void 0,Dt,void 0,!0,void 0,void 0,void 0),Qt={name:"cm-panel",functional:!0,props:{secondary:{type:Boolean,default:!1}}};const Wt=Qt;Qt.__file="cm-panel.vue";var Ut=Lt({render:function(t,e){var n=e._c;return n("li",{staticClass:"cm-item"},[n("div",{class:["cm-item__panel",{"is-secondary":e.props.secondary}]},[e._t("default"),e._v("\n          "+e._s(e.context)+"\n    ")],2)])},staticRenderFns:[]},void 0,Wt,void 0,!0,void 0,void 0,void 0),Xt={name:"cm-ajax",inheritAttrs:!1,mixins:[Ft],props:{params:{type:Object,default:function(){return{}}},url:{type:String,required:!0},method:{type:String,default:"post",validator:function(t){return["get","put","post","delete","patch"].includes(t.toLowerCase())}}},methods:{fetchData:function(){var t=this;AWEMA.ajax(this.params,this.url,this.method).then(function(e){t.$emit("sended",e)}).catch(function(e){t.$emit("error",e)})}}};const Yt=Xt;Xt.__file="cm-ajax.vue";var Jt=Lt({render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"cm-item"},[e("button",this._b({class:["cm-item__button",this.itemClass],on:{click:this.fetchData}},"button",this.$attrs,!1),[this._t("default")],2)])},staticRenderFns:[]},void 0,Yt,void 0,!1,void 0,void 0,void 0),Kt={f:Object.getOwnPropertySymbols},Zt={f:{}.propertyIsEnumerable},te=Object.assign,ee=!te||r(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=te({},t)[n]||Object.keys(te({},e)).join("")!=i})?function(t,e){for(var n=ft(t),i=arguments.length,o=1,r=Kt.f,s=Zt.f;i>o;)for(var c,u=E(arguments[o++]),a=r?K(u).concat(r(u)):K(u),l=a.length,f=0;l>f;)s.call(u,c=a[f++])&&(n[c]=u[c]);return n}:te;S(S.S+S.F,"Object",{assign:ee});var ne={name:"cm-query",mixins:[Ft],props:{param:{type:Object,required:!0}},computed:{routeQuery:function(){return this.$route.query},isActive:function(){var t=!0;for(var e in this.param)t=t&&(this.routeQuery.hasOwnProperty(e)?this.routeQuery[e]===this.param[e]:""===this.param[e]);return t}},methods:{setQuery:function(){this.isActive||this.$router.push({query:this.getMergedQuery()})},getMergedQuery:function(){return Object.assign({},this.routeQuery,this.param)}},beforeCreate:function(){this._routerRoot=this,this._router=AWEMA._vueRouter,this._router.init(this),Vue.util.defineReactive(this,"_route",this._router.history.current)}};const ie=ne;ne.__file="cm-query.vue";var oe=Lt({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"cm-item"},[n("button",t._g(t._b({class:["cm-item__button",{"is-active":t.isActive},t.itemClass],on:{click:t.setQuery}},"button",t.$attrs,!1),t.$listeners),[t._t("default")],2)])},staticRenderFns:[]},void 0,ie,void 0,!1,void 0,void 0,void 0);var re={installed:!1,install:function(t){this.installed||(this.installed=!0,t.component("context-menu",At),t.component("cm-button",Vt),t.component("cm-link",It),t.component("cm-separator",Gt),t.component("cm-panel",Ut),t.component("cm-ajax",Jt),t.component("cm-query",oe))}},se={install:function(){Vue.use(re)}};"AWEMA"in window?AWEMA.use(se):(window.__awema_plugins_stack__=window.__awema_plugins_stack__||[],window.__awema_plugins_stack__.push(se))}();
